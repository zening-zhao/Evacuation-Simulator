import matplotlib.pyplot as plt
import matplotlib.patches as patches
import pandas as pd
import seaborn as sns

# Data preparation
data = {
    'L': [29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
          34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
          41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
          51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51],
    'r': [2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40],
    'theta': [0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10],
    'average': [565.67, 578.33, 745, 708.67, 750.67, 757.33, 564, 609.33, 751, 707.33, 748, 747.67, 553, 583, 719.67, 750.67, 751, 747.67, 574.67, 580.33, 739.33, 752.33, 720.33, 742.67, 548.33, 623, 746.67, 712.33, 750.67, 752.67,
                541.33, 540.33, 551, 538, 545.33, 546.67, 548, 537, 554, 535, 542.67, 545.33, 537.33, 541.33, 551, 539.67, 548.67, 541.67, 551, 551.67, 548.67, 546, 538.33, 536.33, 537.33, 548.67, 540.67, 543, 533.67, 548.33,
                637.33, 656, 800.33, 812.67, 771.33, 802.33, 625.67, 678, 802.67, 807.33, 800, 761.67, 645, 706.33, 785.33, 774.67, 778.67, 788.67, 650.33, 725.33, 747.67, 770.33, 803.33, 786, 627, 682.67, 801.33, 807.33, 800.67, 811.33,
                544, 535.67, 536.33, 529.33, 538.33, 541.67, 533.67, 542, 534.33, 534.67, 537.33, 538, 537.67, 535, 539.33, 536.33, 535.33, 531, 538, 544.33, 533.33, 536, 534.33, 534, 536.67, 543.33, 535.33, 539, 537, 535.33]
}

# Create a DataFrame
df = pd.DataFrame(data)

# Convert L to layout size
df['layout_size'] = df['L'].apply(lambda x: f"{int(200/x)}x{int(200/x)}")

# Create a pivot table for the layout size 6x6
layout_size = "6x6"
pivot = df[df['layout_size'] == layout_size].pivot("r", "theta", "average")

# Plot heatmap
plt.figure(figsize=(8, 6))
sns.heatmap(pivot, cmap="YlGnBu", annot=True, fmt=".2f", cbar_kws={'label': 'Average Value'})
plt.title(f'Layout Size: {layout_size}')
plt.xlabel('Theta')
plt.ylabel('r')

# Highlight the column for theta = 0.5
theta_col = pivot.columns.get_loc(0.5)
rect = patches.FancyBboxPatch((theta_col, 0.2), 1, len(pivot)-0.4, boxstyle="round,pad=0.1", edgecolor='red', linewidth=2, facecolor='none')
plt.gca().add_patch(rect)

plt.tight_layout()
plt.show()



import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns

# Data preparation
data = {
    'L': [29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
          34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
          41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
          51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51],
    'r': [2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40],
    'theta': [0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10],
    'average': [565.67, 578.33, 745, 708.67, 750.67, 757.33, 564, 609.33, 751, 707.33, 748, 747.67, 553, 583, 719.67, 750.67, 751, 747.67, 574.67, 580.33, 739.33, 752.33, 720.33, 742.67, 548.33, 623, 746.67, 712.33, 750.67, 752.67,
                541.33, 540.33, 551, 538, 545.33, 546.67, 548, 537, 554, 535, 542.67, 545.33, 537.33, 541.33, 551, 539.67, 548.67, 541.67, 551, 551.67, 548.67, 546, 538.33, 536.33, 537.33, 548.67, 540.67, 543, 533.67, 548.33,
                637.33, 656, 800.33, 812.67, 771.33, 802.33, 625.67, 678, 802.67, 807.33, 800, 761.67, 645, 706.33, 785.33, 774.67, 778.67, 788.67, 650.33, 725.33, 747.67, 770.33, 803.33, 786, 627, 682.67, 801.33, 807.33, 800.67, 811.33,
                544, 535.67, 536.33, 529.33, 538.33, 541.67, 533.67, 542, 534.33, 534.67, 537.33, 538, 537.67, 535, 539.33, 536.33, 535.33, 531, 538, 544.33, 533.33, 536, 534.33, 534, 536.67, 543.33, 535.33, 539, 537, 535.33]
}

# Create a DataFrame
df = pd.DataFrame(data)

# Convert L to layout size
df['layout_size'] = df['L'].apply(lambda x: f"{int(200/x)}x{int(200/x)}")

# Create a pivot table for the layout size 6x6
layout_size = "6x6"
pivot = df[df['layout_size'] == layout_size].pivot("r", "theta", "average")

# Plot heatmap
plt.figure(figsize=(8, 6))
sns.heatmap(pivot, cmap="YlGnBu", annot=True, fmt=".2f", cbar_kws={'label': 'Average Value'})
plt.title(f'Layout Size: {layout_size}')
plt.xlabel('Theta')
plt.ylabel('r')

# Highlight the chosen parameters
chosen_r = 10
chosen_theta = 0.5
plt.plot(pivot.columns.get_loc(chosen_theta) + 0.5, pivot.index.get_loc(chosen_r) + 0.5, 'ro', markersize=10, label='Chosen Option')
plt.legend(loc='upper center', bbox_to_anchor=(0.5, -0.1))

plt.tight_layout()
plt.show()








import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns

# Data preparation
data = {
    'L': [29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
          34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
          41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
          51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51],
    'r': [2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40,
          2, 2, 2, 2, 2, 2, 10, 10, 10, 10, 10, 10, 15, 15, 15, 15, 15, 15, 20, 20, 20, 20, 20, 20, 40, 40, 40, 40, 40, 40],
    'theta': [0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10,
              0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10, 0.1, 0.5, 1, 2, 5, 10],
    'average': [565.67, 578.33, 745, 708.67, 750.67, 757.33, 564, 609.33, 751, 707.33, 748, 747.67, 553, 583, 719.67, 750.67, 751, 747.67, 574.67, 580.33, 739.33, 752.33, 720.33, 742.67, 548.33, 623, 746.67, 712.33, 750.67, 752.67,
                541.33, 540.33, 551, 538, 545.33, 546.67, 548, 537, 554, 535, 542.67, 545.33, 537.33, 541.33, 551, 539.67, 548.67, 541.67, 551, 551.67, 548.67, 546, 538.33, 536.33, 537.33, 548.67, 540.67, 543, 533.67, 548.33,
                637.33, 656, 800.33, 812.67, 771.33, 802.33, 625.67, 678, 802.67, 807.33, 800, 761.67, 645, 706.33, 785.33, 774.67, 778.67, 788.67, 650.33, 725.33, 747.67, 770.33, 803.33, 786, 627, 682.67, 801.33, 807.33, 800.67, 811.33,
                544, 535.67, 536.33, 529.33, 538.33, 541.67, 533.67, 542, 534.33, 534.67, 537.33, 538, 537.67, 535, 539.33, 536.33, 535.33, 531, 538, 544.33, 533.33, 536, 534.33, 534, 536.67, 543.33, 535.33, 539, 537, 535.33]
}

# Create a DataFrame
df = pd.DataFrame(data)

# Convert L to layout size
df['layout_size'] = df['L'].apply(lambda x: f"{int(200/x)}x{int(200/x)}")

# Create a pivot table for each layout size
layout_sizes = df['layout_size'].unique()
fig, axes = plt.subplots(2, 2, figsize=(16, 12), sharex=True, sharey=True)

for ax, layout_size in zip(axes.flatten(), layout_sizes):
    pivot = df[df['layout_size'] == layout_size].pivot("r", "theta", "average")
    sns.heatmap(pivot, ax=ax, cmap="YlGnBu", annot=False, cbar_kws={'label': 'Average Value'})
    ax.set_title(f'Layout Size: {layout_size}')
    ax.set_xlabel('Theta')
    ax.set_ylabel('r')

plt.tight_layout()
plt.show()


